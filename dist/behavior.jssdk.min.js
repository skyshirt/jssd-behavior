!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("axios"),require("qs")):"function"==typeof define&&define.amd?define(["axios","qs"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).behavior=e.behavior||{},e.behavior.jssdk=t(e._axios,e.Qs))}(this,function(e,t){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=o(e),n=o(t);var i=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e};var s,u=(function(t){function o(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=o=function(e){return typeof e}:t.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}t.exports=o}(s={exports:{}}),s.exports),f=r.default.create({});f.defaults.timeout=5e3,f.defaults.withCredentials=!0,f.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",f.defaults.headers.get["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",f.defaults.baseURL="",f.defaults.transformRequest=[function(e){return n.default.stringify(e)}];var a={};function c(t,e){var o,r=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)),r}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach(function(e){i(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function p(e){var t,r=this;for(t in this.oc=new Date,this.options=Object.assign({methods:a,prefix:"",url:"",token:""},e),this.options.methods)!function(o){r[o]=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r._post(o,e,t)}}(t);return this}p.prototype={_post:function(e,t,o){if("object"!==u(t))throw"saveValue必须为对象{key:value}";if("object"!==u(o))throw"配置参数必须为对象{key:value}";if("viewPage"===e&&(this.oc=new Date),"viewPageStayLength"===e){var r=new Date;if(t.stayLength){if(this.oc=r,!(3<t.stayLength))return Promise.reject(new Error('页面停留参数"stayLength" 有效值为大于3的数值'));t.stayLength=Math.round(t.stayLength)}else{if(r-this.oc<3e3)return void(this.oc=r);t.stayLength=Math.round((r-this.oc)/1e3)}}var n=l(l({},this.options),o),i=n.prefix,s=n.url,a=n.token;return f.post(i+s,{token:a,saveType:e,saveValue:JSON.stringify(t)})}};var y={Behavior:null,install:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};y.Behavior=e.prototype.$Behavior=new p(o)}};return y});

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("axios"),require("qs")):"function"==typeof define&&define.amd?define(["axios","qs"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).behavior=e.behavior||{},e.behavior.jssdk=t(e._axios,e.Qs))}(this,function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),i=n(t);var o=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};var s,p=(function(t){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(e){return typeof e}:t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.exports=n}(s={exports:{}}),s.exports),c=r.default.create({});c.defaults.timeout=5e3,c.defaults.withCredentials=!0,c.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",c.defaults.headers.get["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",c.defaults.baseURL="",c.defaults.transformRequest=[function(e){return i.default.stringify(e)}];var a={clickButton:{_description:"按钮点击事件",exhibitionChannel:{_description:"销售渠道，输入数字按照各个渠道分配",type:"string"},clickCategory:{_description:"事件分类，输入数字1:banner2:快捷入口3:专属产品4:热门产品5:产品列表6:职域营销7:推荐产品",type:"string|number",allow:["1","2","3","4","5","6","7","8"]},buttonName:{_description:"按钮名称，输入中文",type:"string"}},searchKeyword:{_description:"产品关键词搜索",exhibitionChannel:{_description:"事件分类，输入数字：按照各个渠道分配",type:"string"},keyword:{_description:"关键词：输入用户搜索关键词",type:"string"}},viewPage:{_description:"页面访问",exhibitionChannel:{_description:"销售渠道，输入数字：按照各个渠道分配",type:"string"},pageClassification:{_description:"页面分类，输入数字1:首页2:产品3:投保流程4:我的",type:"string|number",allow:["1","2","3","4"]},visitSource:{_description:"访问来源，输入数字，1:快捷入口2:banner3:首页专属产品4:热门产品5:产品列表6:团单推荐产品",type:"string|number",allow:["1","2","3","4","5","6"]},pageType:{_description:"页面类型，输入中文，“页面分类”与“页面名称”对应关系见pageType参数说明",type:"string|number",allow:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"]},productCode:{_description:"产品代码 当 pageType = 3时，必填",type:"string|number"},companyId:{_description:"保险公司id 当 pageType = 3时，必填",type:"string|number"},categoryId:{_description:"产品类别id当 pageType = 3时，必填",type:"string|number"},sequence:{_description:"从热门产品进入输入热门产品排序，如果不是从热门产品，则传“-1”，需要两边联调 当 pageType = 3时，必填",type:"string|number"}},viewPageStayLength:{_description:"页面停留时长",stayLength:{_description:"页面停留时长，由sdk传入，非必填",type:"string|number"}}};function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(e){var t,r=this;for(t in this.oc=new Date,this.options=Object.assign({methods:a,prefix:"",url:"/BehaviorAnalysisController/saveBehaviorAnalysis",token:""},e),this.options.methods)!function(n){r[n]=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r._post(n,e,t)}}(t);return this}l.prototype={_post:function(e,t,n){if("object"!==p(t))throw"saveValue必须为对象{key:value}";if("object"!==p(n))throw"配置参数必须为对象{key:value}";if("viewPage"===e&&(this.oc=new Date),"viewPageStayLength"===e){var r=new Date;if(t.stayLength){if(this.oc=r,!(3<t.stayLength))return Promise.reject(new Error('页面停留参数"stayLength" 有效值为大于3的数值'));t.stayLength=Math.round(t.stayLength)}else{if(r-this.oc<3e3)return void(this.oc=r);t.stayLength=Math.round((r-this.oc)/1e3)}}var i=y(y({},this.options),n),o=i.prefix,s=i.url,a=i.token;return c.post(o+s,{token:a,saveType:e,saveValue:JSON.stringify(t)})}};var f={Behavior:null,install:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};f.Behavior=e.prototype.$Behavior=new l(n)}};return f});
